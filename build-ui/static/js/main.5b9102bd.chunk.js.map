{"version":3,"sources":["components/contexts/UserContext.js","components/styled-components.js","components/RecipeThumb.jsx","components/Home.jsx","components/Recipe.jsx","hooks/useFetch.js","components/Main.jsx","theme.js","components/Provider.jsx","globalStyles.js","components/App.jsx","index.js"],"names":["UserContext","createContext","UserContextProvider","children","useState","user","setUser","a","fetch","code","useEffect","response","json","data","values","isLoggedIn","loading","undefined","updateUser","logout","Provider","value","flexbox","css","justify","align","block","Row","styled","div","Col","RecipeThumb","recipe","description","useRef","to","id","name","replace","image","height","current","getBoundingClientRect","as","Wrapper","Header","Time","minutes","TimeIcon","DescriptionContainer","Description","ref","p","wrapperWithImage","Link","theme","color","bodyLight","borderRadius","primary","textPrimary","secondary","h3","span","Icon","attrs","path","mdiClockTimeFourOutline","Home","recipes","setRecipes","setLoading","useContext","method","headers","body","JSON","stringify","username","password","console","log","status","alert","onClick","style","margin","Recipes","map","Recipe","match","url","args","setData","setStatus","error","setError","useFetch","params","article","Main","exact","component","main","GlobalStyles","createGlobalStyle","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5b9102bd.chunk.js","sourcesContent":["import { createContext, useState, useEffect } from 'react';\r\n\r\nexport const UserContext = createContext();\r\n\r\nexport function UserContextProvider({ children }) {\r\n    const [user, setUser] = useState();\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const response = await fetch(\"http://localhost:3000/api/auth\");\r\n            if (response.code === 200) {\r\n                const data = await response.json();\r\n                setUser(data);\r\n            } else {\r\n                setUser(null);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    function updateUser(user) {\r\n        if (!user) {\r\n            return;\r\n        }\r\n        setUser(user);\r\n    }\r\n\r\n    async function logout() {\r\n        if (!user) {\r\n            return;\r\n        }\r\n        const response = await fetch('/api/auth/logout');\r\n        if (response.code === 200) {\r\n            setUser(null);\r\n        }\r\n    }\r\n\r\n    const isLoggedIn = user != null;\r\n    const loading = user === undefined;\r\n\r\n    const values = {\r\n        user,\r\n        isLoggedIn,\r\n        loading,\r\n        updateUser,\r\n        logout,\r\n    };\r\n\r\n    return (\r\n        <UserContext.Provider value={values}>\r\n            {children}\r\n        </UserContext.Provider>\r\n    );\r\n}\r\n","import styled, { css } from 'styled-components';\r\n\r\nconst flexbox = css(({ justify, align, block }) => (\r\n    css`\r\n        justify-content: ${justify};\r\n        align-items: ${align};\r\n        width: ${block ? \"100%\" : null};\r\n    `\r\n));\r\n\r\nexport const Row = styled.div`\r\n    ${flexbox}\r\n    display: flex;\r\n    flex-direction: row;\r\n`;\r\n\r\nexport const Col = styled.div`\r\n    ${flexbox}\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n","import { useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport { mdiClockTimeFourOutline } from '@mdi/js';\r\nimport Icon from '@mdi/react';\r\nimport { Row, Col } from './styled-components';\r\n\r\nexport default function RecipeThumb({ recipe = {} }) {\r\n    const description = useRef();\r\n\r\n    return (\r\n        <Col\r\n            to={`/recipe/${recipe.id}/${recipe.name.replace(' ', '-')}`} image={recipe.image}\r\n            height={description.current?.getBoundingClientRect()?.height} as={Wrapper}\r\n        >\r\n            <Row justify=\"space-between\" align=\"center\" block>\r\n                <Header>{recipe.name}</Header>\r\n                <Time>{recipe.minutes}</Time>\r\n                <TimeIcon />\r\n            </Row>\r\n            <DescriptionContainer>\r\n                <Description ref={description}>{recipe.description}</Description>\r\n            </DescriptionContainer>\r\n        </Col>\r\n    );\r\n}\r\n\r\nconst Description = styled.p`\r\n\r\n`;\r\n\r\nconst DescriptionContainer = styled.div`\r\n    width: 100%;\r\n    transition: height 0.4s, margin-top 0.4s;\r\n    overflow: hidden;\r\n    height: 0;\r\n`;\r\n\r\nconst wrapperWithImage = css`\r\n    background-position: center;\r\n    background-size: cover;\r\n    position: relative;\r\n    z-index: 1;\r\n    &::before {\r\n        z-index: -1;\r\n        content: \"\";\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: rgba(0, 0, 0, 0.75);\r\n        border-radius: inherit;\r\n    }\r\n`;\r\n\r\nconst Wrapper = styled(Link)`\r\n    border-bottom: 4px solid rgb(${({ theme }) => theme.color.bodyLight});\r\n    padding: 15px;\r\n    width: 100%;\r\n    text-decoration: none;\r\n    color: white;\r\n    display: flex;\r\n    align-items: center;\r\n    transition: transform 0.35s;\r\n    box-shadow: 0 0 4px 0 black;\r\n    ${({ theme, height, image }) => css`\r\n        background-image: ${image && `url(\"/assets/recipe-images/${image}.jpg\")`};\r\n        border-radius: ${theme.borderRadius}px;\r\n        ${image ? wrapperWithImage : css`\r\n            background-color: rgb(${theme.color.primary});\r\n            color: rgb(${({ theme }) => theme.color.textPrimary});\r\n            &:hover {\r\n                background-color: rgba(${theme.color.secondary});\r\n            }\r\n            &:active, &:focus {\r\n                background-color: rgba(${theme.color.bodyLight});\r\n                color: white;\r\n            }\r\n        `}\r\n        &:active, &:focus, &:hover {\r\n            ${DescriptionContainer} {\r\n                height: ${height}px;\r\n                margin-top: 10px;\r\n            }\r\n        }\r\n    `}\r\n`;\r\n\r\nconst Header = styled.h3`\r\n    font-weight: normal;\r\n    font-size: 1.75rem;\r\n`;\r\n\r\nconst Time = styled.span`\r\n    margin-left: auto;\r\n`;\r\n\r\nconst TimeIcon = styled(Icon).attrs({ path: mdiClockTimeFourOutline })`\r\n    width: 1.5rem;\r\n    height: 1.5rem;\r\n    margin-left: 5px;\r\n`;","import { useState, useEffect, useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { UserContext } from './contexts/UserContext';\r\nimport RecipeThumb from './RecipeThumb';\r\n\r\nexport default function Home() {\r\n    const [recipes, setRecipes] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const { user } = useContext(UserContext);\r\n\r\n    useEffect(() => {\r\n        console.log(user)        \r\n    }, [user]);\r\n\r\n    async function login() {\r\n        await fetch(\"http://localhost:3000/api/auth/login\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({\r\n                username: \"Philip\",\r\n                password: \"123\",\r\n            }),\r\n        });\r\n    }\r\n\r\n    async function auth() {\r\n        await fetch(\"http://localhost:3000/api/auth\");\r\n    }\r\n\r\n    async function logout() {\r\n        await fetch(\"http://localhost:3000/api/auth/logout\");\r\n    }\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const response = await fetch(\"http://localhost:3000/api/recipes\");\r\n            if (response.status !== 200) {\r\n                return alert(\"Error fetching posts\");\r\n            }\r\n            const data = await response.json();\r\n            setRecipes(data);\r\n            setLoading(false);\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <Wrapper>\r\n            <button onClick={login} style={{ margin: 50 }}>Login</button>\r\n            <button onClick={auth} style={{ margin: 50 }}>Authenticate</button>\r\n            <button onClick={logout} style={{ margin: 50 }}>Logout</button>\r\n            <Recipes>\r\n                {recipes.map(recipe => <RecipeThumb key={recipe.id} recipe={recipe} />)}\r\n            </Recipes>\r\n        </Wrapper>\r\n    );\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nconst Recipes = styled.div`\r\n    margin: 30px auto;\r\n    display: grid;\r\n    grid-gap: 15px;\r\n    width: 500px;\r\n`;\r\n","import { useState, useEffect } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport useFetch from '../hooks/useFetch';\r\n\r\nexport default function Recipe({ match }) {\r\n    const { data, loading } = useFetch(`http://localhost:3000/api/recipes/${match.params.id}`);\r\n\r\n    console.log(data, loading);\r\n\r\n    return (\r\n        <Wrapper>\r\n            {data.name}\r\n        </Wrapper>\r\n    );\r\n}\r\n\r\nconst Wrapper = styled.article`\r\n    ${({ theme }) => css`\r\n        background-color: rgb(${theme.color.bodyLight});\r\n    `}\r\n`;\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport default function useFetch(url, args) {\r\n    const [loading, setLoading] = useState(true);\r\n    const [data, setData] = useState([]);\r\n    const [status, setStatus] = useState(200);\r\n    const [error, setError] = useState(false);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const response = await fetch(url, args);\r\n            setStatus(response.status);\r\n            if (response.status !== 200) {\r\n                return setError(true);\r\n            }\r\n            const data = await response.json();\r\n            setData(data);\r\n            setLoading(false);\r\n        })();\r\n    }, [url, args]);\r\n\r\n    return { loading, data, status, error };\r\n}\r\n","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport styled, { css } from 'styled-components';\r\nimport Home from \"./Home\";\r\nimport Recipe from \"./Recipe\";\r\n\r\nexport default function Main() {\r\n    return (\r\n        <Wrapper>\r\n            <Router>\r\n                <Switch>\r\n                    <Route path=\"/\" exact component={Home} />\r\n                    <Route path=\"/recipe/:id/:name?\" exact component={Recipe} />\r\n                </Switch>\r\n            </Router>\r\n        </Wrapper>\r\n    );\r\n}\r\n\r\nconst Wrapper = styled.main`\r\n    ${({ theme }) => css`\r\n        min-height: 100vh;\r\n        background-color: rgb(${theme.color.body});\r\n        color: rgb(${theme.color.textPrimary});\r\n    `}\r\n`;\r\n","export const theme = {\r\n    color: {\r\n        body: \"75, 43, 21\",\r\n        bodyLight: \"125, 90, 60\",\r\n        primary: \"235, 235, 235\",\r\n        secondary: \"200, 200, 200\",\r\n        textPrimary: \"15, 15, 15\",\r\n    },\r\n    borderRadius: 3,\r\n};\r\n","import { ThemeProvider } from 'styled-components';\r\nimport { theme } from '../theme';\r\nimport { UserContextProvider } from './contexts/UserContext';\r\n\r\nexport default function Provider({ children }) {\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n            <UserContextProvider>\r\n                {children}\r\n            </UserContextProvider>\r\n        </ThemeProvider>\r\n    );\r\n}\r\n","import { createGlobalStyle } from \"styled-components\";\r\nimport './fonts.css';\r\n\r\nexport const GlobalStyles = createGlobalStyle`\r\n    *,\r\n    *::before,\r\n    *::after {\r\n        box-sizing: border-box;\r\n        margin: 0;\r\n        padding: 0;\r\n        list-style: none;\r\n    }\r\n\r\n    ::selection {\r\n        /* color: rgb(0, 127, 255); */\r\n    }\r\n\r\n    body {\r\n        font-family: Roboto;\r\n    }\r\n`;\r\n","import Main from \"./Main\";\nimport Provider from './Provider';\nimport { GlobalStyles } from '../globalStyles';\n\nexport default function App() {\n\t// gör i useFetch att url blir - process.env.REACT_APP_URL ?? \"/\" osv, och ha ingen .env i production\n\treturn (\n\t\t<Provider>\n\t\t\t<GlobalStyles />\n\t\t\t<Main />\n\t\t</Provider>\n\t);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n    <React.StrictMode>\n\t\t<App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}