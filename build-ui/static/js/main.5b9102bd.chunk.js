(this.webpackJsonprecipes=this.webpackJsonprecipes||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(22),o=n.n(a),i=n(3),s=n(15),u=n(4),b=n(2),l=n(6),d=n.n(l),j=n(10),h=n(11),p=n(1),f=Object(r.createContext)();function O(e){var t=e.children,n=Object(r.useState)(),c=Object(h.a)(n,2),a=c[0],o=c[1];function i(){return(i=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("/api/auth/logout");case 4:200===e.sent.code&&o(null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/auth");case 2:if(200!==(t=e.sent).code){e.next=10;break}return e.next=6,t.json();case 6:n=e.sent,o(n),e.next=11;break;case 10:o(null);case 11:case"end":return e.stop()}}),e)})))()}),[]);var s={user:a,isLoggedIn:null!=a,loading:void 0===a,updateUser:function(e){e&&o(e)},logout:function(){return i.apply(this,arguments)}};return Object(p.jsx)(f.Provider,{value:s,children:t})}var x,g,m,v,y,w,k,S,C,L,E,P,z=n(27),R=n(23),J=n.n(R),B=Object(b.c)((function(e){var t=e.justify,n=e.align,r=e.block;return Object(b.c)(x||(x=Object(i.a)(["\n        justify-content: ",";\n        align-items: ",";\n        width: ",";\n    "])),t,n,r?"100%":null)})),I=b.d.div(g||(g=Object(i.a)(["\n    ","\n    display: flex;\n    flex-direction: row;\n"])),B),T=b.d.div(m||(m=Object(i.a)(["\n    ","\n    display: flex;\n    flex-direction: column;\n"])),B);function A(e){var t,n,c=e.recipe,a=void 0===c?{}:c,o=Object(r.useRef)();return Object(p.jsxs)(T,{to:"/recipe/".concat(a.id,"/").concat(a.name.replace(" ","-")),image:a.image,height:null===(t=o.current)||void 0===t||null===(n=t.getBoundingClientRect())||void 0===n?void 0:n.height,as:F,children:[Object(p.jsxs)(I,{justify:"space-between",align:"center",block:!0,children:[Object(p.jsx)(G,{children:a.name}),Object(p.jsx)(H,{children:a.minutes}),Object(p.jsx)(K,{})]}),Object(p.jsx)(q,{children:Object(p.jsx)(U,{ref:o,children:a.description})})]})}var M,N,U=b.d.p(v||(v=Object(i.a)(["\n\n"]))),q=b.d.div(y||(y=Object(i.a)(["\n    width: 100%;\n    transition: height 0.4s, margin-top 0.4s;\n    overflow: hidden;\n    height: 0;\n"]))),D=Object(b.c)(w||(w=Object(i.a)(['\n    background-position: center;\n    background-size: cover;\n    position: relative;\n    z-index: 1;\n    &::before {\n        z-index: -1;\n        content: "";\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.75);\n        border-radius: inherit;\n    }\n']))),F=Object(b.d)(s.b)(k||(k=Object(i.a)(["\n    border-bottom: 4px solid rgb(",");\n    padding: 15px;\n    width: 100%;\n    text-decoration: none;\n    color: white;\n    display: flex;\n    align-items: center;\n    transition: transform 0.35s;\n    box-shadow: 0 0 4px 0 black;\n    ","\n"])),(function(e){return e.theme.color.bodyLight}),(function(e){var t=e.theme,n=e.height,r=e.image;return Object(b.c)(S||(S=Object(i.a)(["\n        background-image: ",";\n        border-radius: ","px;\n        ","\n        &:active, &:focus, &:hover {\n            "," {\n                height: ","px;\n                margin-top: 10px;\n            }\n        }\n    "])),r&&'url("/assets/recipe-images/'.concat(r,'.jpg")'),t.borderRadius,r?D:Object(b.c)(C||(C=Object(i.a)(["\n            background-color: rgb(",");\n            color: rgb(",");\n            &:hover {\n                background-color: rgba(",");\n            }\n            &:active, &:focus {\n                background-color: rgba(",");\n                color: white;\n            }\n        "])),t.color.primary,(function(e){return e.theme.color.textPrimary}),t.color.secondary,t.color.bodyLight),q,n)})),G=b.d.h3(L||(L=Object(i.a)(["\n    font-weight: normal;\n    font-size: 1.75rem;\n"]))),H=b.d.span(E||(E=Object(i.a)(["\n    margin-left: auto;\n"]))),K=Object(b.d)(J.a).attrs({path:z.a})(P||(P=Object(i.a)(["\n    width: 1.5rem;\n    height: 1.5rem;\n    margin-left: 5px;\n"])));function Q(){var e=Object(r.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!0),o=Object(h.a)(a,2),i=(o[0],o[1]),s=Object(r.useContext)(f).user;function u(){return(u=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:"Philip",password:"123"})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/auth");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/auth/logout");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){console.log(s)}),[s]),Object(r.useEffect)((function(){Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/recipes");case 2:if(200===(t=e.sent).status){e.next=5;break}return e.abrupt("return",alert("Error fetching posts"));case 5:return e.next=7,t.json();case 7:n=e.sent,c(n),i(!1);case 10:case"end":return e.stop()}}),e)})))()}),[]),Object(p.jsxs)(X,{children:[Object(p.jsx)("button",{onClick:function(){return u.apply(this,arguments)},style:{margin:50},children:"Login"}),Object(p.jsx)("button",{onClick:function(){return b.apply(this,arguments)},style:{margin:50},children:"Authenticate"}),Object(p.jsx)("button",{onClick:function(){return l.apply(this,arguments)},style:{margin:50},children:"Logout"}),Object(p.jsx)(Y,{children:n.map((function(e){return Object(p.jsx)(A,{recipe:e},e.id)}))})]})}var V,W,X=b.d.div(M||(M=Object(i.a)(["\n    display: flex;\n    flex-direction: column;\n"]))),Y=b.d.div(N||(N=Object(i.a)(["\n    margin: 30px auto;\n    display: grid;\n    grid-gap: 15px;\n    width: 500px;\n"])));function Z(e){var t=e.match,n=function(e,t){var n=Object(r.useState)(!0),c=Object(h.a)(n,2),a=c[0],o=c[1],i=Object(r.useState)([]),s=Object(h.a)(i,2),u=s[0],b=s[1],l=Object(r.useState)(200),p=Object(h.a)(l,2),f=p[0],O=p[1],x=Object(r.useState)(!1),g=Object(h.a)(x,2),m=g[0],v=g[1];return Object(r.useEffect)((function(){Object(j.a)(d.a.mark((function n(){var r,c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,t);case 2:if(r=n.sent,O(r.status),200===r.status){n.next=6;break}return n.abrupt("return",v(!0));case 6:return n.next=8,r.json();case 8:c=n.sent,b(c),o(!1);case 11:case"end":return n.stop()}}),n)})))()}),[e,t]),{loading:a,data:u,status:f,error:m}}("http://localhost:3000/api/recipes/".concat(t.params.id)),c=n.data,a=n.loading;return console.log(c,a),Object(p.jsx)(ee,{children:c.name})}var $,_,ee=b.d.article(V||(V=Object(i.a)(["\n    ","\n"])),(function(e){var t=e.theme;return Object(b.c)(W||(W=Object(i.a)(["\n        background-color: rgb(",");\n    "])),t.color.bodyLight)}));function te(){return Object(p.jsx)(ne,{children:Object(p.jsx)(s.a,{children:Object(p.jsxs)(u.c,{children:[Object(p.jsx)(u.a,{path:"/",exact:!0,component:Q}),Object(p.jsx)(u.a,{path:"/recipe/:id/:name?",exact:!0,component:Z})]})})})}var ne=b.d.main($||($=Object(i.a)(["\n    ","\n"])),(function(e){var t=e.theme;return Object(b.c)(_||(_=Object(i.a)(["\n        min-height: 100vh;\n        background-color: rgb(",");\n        color: rgb(",");\n    "])),t.color.body,t.color.textPrimary)})),re={color:{body:"75, 43, 21",bodyLight:"125, 90, 60",primary:"235, 235, 235",secondary:"200, 200, 200",textPrimary:"15, 15, 15"},borderRadius:3};function ce(e){var t=e.children;return Object(p.jsx)(b.a,{theme:re,children:Object(p.jsx)(O,{children:t})})}n(44);var ae,oe=Object(b.b)(ae||(ae=Object(i.a)(["\n    *,\n    *::before,\n    *::after {\n        box-sizing: border-box;\n        margin: 0;\n        padding: 0;\n        list-style: none;\n    }\n\n    ::selection {\n        /* color: rgb(0, 127, 255); */\n    }\n\n    body {\n        font-family: Roboto;\n    }\n"])));function ie(){return Object(p.jsxs)(ce,{children:[Object(p.jsx)(oe,{}),Object(p.jsx)(te,{})]})}o.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(ie,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.5b9102bd.chunk.js.map